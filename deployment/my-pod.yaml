---
apiVersion: v1
kind: Pod
metadata:
  namespace: default
  name: my-pod
  annotations:
     k8s.v1.cni.cncf.io/networks: dpusriovcni-conf
spec:
  tolerations:
  - key: node-role.kubernetes.io/control-plane
    operator: Exists
    effect: NoSchedule
  securityContext:
    seccompProfile:
      type: RuntimeDefault
      runAsNonRoot: true
  containers:
  - name: my-pod
    image: quay.io/wizhao/ft-base-image:0.9
    command:
      - "/sbin/init"
    imagePullPolicy: IfNotPresent
    resources:
      requests:
        intel.com/marvell_sriov: '1'
      limits:
        intel.com/marvell_sriov: '1'
    securityContext:
      allowPrivilegeEscalation: false
      runAsNonRoot: true
      runAsUser: 999
      capabilities:
        drop:
          - ALL
